(function(){var e,t,n,r,i,s,o,u,a=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;o=function(){function t(e,t){this.username=e!=null?e:null,this.callback=t!=null?t:null,this.parseGeoResponse=a(this.parseGeoResponse,this),this.geoSuccess=a(this.geoSuccess,this),this.detect()}var e;return e="geoSuccessCallback"+parseInt(Math.random()*1e4),t.detect=function(e,n){return e==null&&(e=null),n==null&&(n=null),new t(e,n)},t.prototype.detect=function(){var e;return e=this.detectLocally(),this.username&&navigator.geolocation&&e.offset!==this.get().offset&&this.geoLocate(),this.set(e)},t.prototype.detectLocally=function(){var e,t,s;return e=this.januaryOffset(),t=this.juneOffset(),s={offset:e,dst:0,hemisphere:i},e-t<0?s={offset:e,dst:1,hemisphere:n}:e-t>0&&(s={offset:t,dst:1,hemisphere:r}),new u(""+[s.offset,s.dst].join(",")+(s.hemisphere===r?",s":""))},t.prototype.geoLocate=function(){return navigator.geolocation.getCurrentPosition(this.geoSuccess,function(){})},t.prototype.geoSuccess=function(t){var n;return window[e]=this.parseGeoResponse,n=document.createElement("script"),n.setAttribute("src","http://api.geonames.org/timezoneJSON?lat="+t.coords.latitude+"&lng="+t.coords.longitude+"&username="+this.username+"&callback="+e),document.getElementsByTagName("head")[0].appendChild(n)},t.prototype.parseGeoResponse=function(t){delete window[e];if(t.timezoneId)return this.set(new u({name:t.timezoneId,offset:t.rawOffset}))},t.prototype.set=function(e){var t;return this.timezone=e,window.timezone=this.timezone,t=new Date,t.setMonth(t.getMonth()+1),document.cookie="timezone="+this.timezone.name+"; expires="+t.toGMTString(),document.cookie="timezone_offset="+this.timezone.offset+"; expires="+t.toGMTString(),typeof this.callback=="function"?this.callback(this.timezone):void 0},t.prototype.get=function(){return{name:this.getCookie("timezone"),offset:parseFloat(this.getCookie("timezone_offset"))||0}},t.prototype.getCookie=function(e){var t;return t=document.cookie.match(new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)","i")),t&&unescape(t[1])},t.prototype.januaryOffset=function(){return this.dateOffset(new Date(2011,0,1,0,0,0,0))},t.prototype.juneOffset=function(){return this.dateOffset(new Date(2011,5,1,0,0,0,0))},t.prototype.dateOffset=function(e){return-e.getTimezoneOffset()},t}.call(this),u=function(){function i(e){var t,n,i;if(typeof e=="string"){i=s[e];for(t in i){if(!f.call(i,t))continue;n=i[t],this[t]=n}r()}else for(t in e){if(!f.call(e,t))continue;n=e[t],this[t]=n}}var n,r;return n=function(e){return(e.getMonth()>5?this.juneOffset():this.januaryOffset())-this.dateOffset(e)!==0},r=function(){var r,i,s;r=e[this.name];if(typeof r=="undefined")return;for(i in r){s=r[i];if(n(t[s])){this.name=s;return}}},i}(),this.Temporal={detect:o.detect,reference:function(){return o}},r="SOUTH",n="NORTH",i="N/A",e={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paolo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]},t={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paolo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,3,0,0,0),"Europe/Istanbul":new Date(2011,2,27,7,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2011,3,29,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)},s={"-720,0":{offset:-12,name:"Etc/GMT+12"},"-660,0":{offset:-11,name:"Pacific/Pago_Pago"},"-600,1":{offset:-11,name:"America/Adak"},"-660,1,s":{offset:-11,name:"Pacific/Apia"},"-600,0":{offset:-10,name:"Pacific/Honolulu"},"-570,0":{offset:-10.5,name:"Pacific/Marquesas"},"-540,0":{offset:-9,name:"Pacific/Gambier"},"-540,1":{offset:-9,name:"America/Anchorage"},"-480,1":{offset:-8,name:"America/Los_Angeles"},"-480,0":{offset:-8,name:"Pacific/Pitcairn"},"-420,0":{offset:-7,name:"America/Phoenix"},"-420,1":{offset:-7,name:"America/Denver"},"-360,0":{offset:-6,name:"America/Guatemala"},"-360,1":{offset:-6,name:"America/Chicago"},"-360,1,s":{offset:-6,name:"Pacific/Easter"},"-300,0":{offset:-5,name:"America/Bogota"},"-300,1":{offset:-5,name:"America/New_York"},"-270,0":{offset:-4.5,name:"America/Caracas"},"-240,1":{offset:-4,name:"America/Halifax"},"-240,0":{offset:-4,name:"America/Santo_Domingo"},"-240,1,s":{offset:-4,name:"America/Asuncion"},"-210,1":{offset:-3.5,name:"America/St_Johns"},"-180,1":{offset:-3,name:"America/Godthab"},"-180,0":{offset:-3,name:"America/Argentina/Buenos_Aires"},"-180,1,s":{offset:-3,name:"America/Montevideo"},"-120,0":{offset:-2,name:"America/Noronha"},"-120,1":{offset:-2,name:"Etc/GMT+2"},"-60,1":{offset:-1,name:"Atlantic/Azores"},"-60,0":{offset:-1,name:"Atlantic/Cape_Verde"},"0,0":{offset:0,name:"Africa/Casablanca"},"0,1":{offset:0,name:"Europe/London"},"60,1":{offset:1,name:"Europe/Berlin"},"60,0":{offset:1,name:"Africa/Lagos"},"60,1,s":{offset:1,name:"Africa/Windhoek"},"120,1":{offset:2,name:"Asia/Beirut"},"120,0":{offset:2,name:"Africa/Johannesburg"},"180,1":{offset:3,name:"Europe/Moscow"},"180,0":{offset:3,name:"Asia/Baghdad"},"210,1":{offset:3.5,name:"Asia/Tehran"},"240,0":{offset:4,name:"Asia/Dubai"},"240,1":{offset:4,name:"Asia/Yerevan"},"270,0":{offset:4.5,name:"Asia/Kabul"},"300,1":{offset:5,name:"Asia/Yekaterinburg"},"300,0":{offset:5,name:"Asia/Karachi"},"330,0":{offset:5,name:"Asia/Kolkata"},"345,0":{offset:5.75,name:"Asia/Kathmandu"},"360,0":{offset:6,name:"Asia/Dhaka"},"360,1":{offset:6,name:"Asia/Omsk"},"390,0":{offset:6,name:"Asia/Rangoon"},"420,1":{offset:7,name:"Asia/Krasnoyarsk"},"420,0":{offset:7,name:"Asia/Jakarta"},"480,0":{offset:8,name:"Asia/Shanghai"},"480,1":{offset:8,name:"Asia/Irkutsk"},"525,0":{offset:8.75,name:"Australia/Eucla"},"525,1,s":{offset:8.75,name:"Australia/Eucla"},"540,1":{offset:9,name:"Asia/Yakutsk"},"540,0":{offset:9,name:"Asia/Tokyo"},"570,0":{offset:9.5,name:"Australia/Darwin"},"570,1,s":{offset:9.5,name:"Australia/Adelaide"},"600,0":{offset:10,name:"Australia/Brisbane"},"600,1":{offset:10,name:"Asia/Vladivostok"},"600,1,s":{offset:10,name:"Australia/Sydney"},"630,1,s":{offset:10.5,name:"Australia/Lord_Howe"},"660,1":{offset:11,name:"Asia/Kamchatka"},"660,0":{offset:11,name:"Pacific/Noumea"},"690,0":{offset:11.5,name:"Pacific/Norfolk"},"720,1,s":{offset:12,name:"Pacific/Auckland"},"720,0":{offset:12,name:"Pacific/Tarawa"},"765,1,s":{offset:12.75,name:"Pacific/Chatham"},"780,0":{offset:13,name:"Pacific/Tongatapu"},"840,0":{offset:14,name:"Pacific/Kiritimati"}}}).call(this);
